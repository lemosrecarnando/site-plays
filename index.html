<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sistema de Mercado</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
<div id="particles-js"></div>

<h1>Bem-vindo ao Sistema</h1>
<div class="container">

  <!-- Produtos -->
  <div class="produtos">
    <h2>Produtos</h2>
    <input type="text" id="pesquisaProduto" placeholder="Pesquisar..." oninput="filtrarProdutos()">
    <div id="botoesProdutos"></div>

    <h3>Scanner</h3>
    <input type="text" id="codigoScanner" placeholder="Código">
    <button onclick="escanearProduto()">Adicionar</button>

    <h3>Por peso</h3>
    <input type="text" id="codigoPeso" placeholder="Código do produto">
    <input type="number" id="pesoProduto" placeholder="Peso (kg)">
    <button onclick="adicionarPorPeso()">Adicionar</button>
  </div>

  <!-- Carrinho -->
  <div class="carrinho">
    <h2>Carrinho</h2>
    <ul id="listaCarrinho"></ul>
    <p id="total">Total: R$0.00</p>
    <button class="finalizar" onclick="finalizarVenda()">Finalizar Venda</button>
  </div>

  <!-- Admin -->
  <div class="admin">
    <h2 onclick="toggleAdmin()" style="cursor:pointer;">Admin ⚙️</h2>
    <div id="adminContent" style="display:none;">
      <h3>Adicionar Produto</h3>
      <input type="text" id="novoNome" placeholder="Nome">
      <input type="number" id="novoPreco" placeholder="Preço">
      <input type="number" id="novoQtd" placeholder="Quantidade">
      <button onclick="adicionarProduto()">Adicionar</button>

      <h3>Modificar Estoque</h3>
      <select id="produtoSelect"></select>
      <input type="number" id="novaQtd" placeholder="Nova quantidade">
      <button onclick="modificarEstoque()">Atualizar</button>

      <h3 onclick="document.getElementById('fiadoDiv').style.display=document.getElementById('fiadoDiv').style.display==='none'?'block':'none';" style="cursor:pointer;">Clientes Fiado</h3>
      <div id="fiadoDiv" style="display:none;">
        <ul id="listaFiado"></ul>
      </div>

      <h3 onclick="document.getElementById('historicoDiv').style.display=document.getElementById('historicoDiv').style.display==='none'?'block':'none';" style="cursor:pointer;">Histórico de Vendas</h3>
      <div id="historicoDiv" style="display:none;">
        <ul id="listaHistorico"></ul>
      </div>
    </div>
  </div>

</div>

<!-- Modal de Pagamento -->
<div id="pagamentoModal" class="modal">
  <div class="modal-content">
    <h2>Escolha o método de pagamento</h2>
    <div class="metodos">
      <button onclick="confirmarPagamento('Dinheiro')">Dinheiro</button>
      <button onclick="confirmarPagamento('Cartão')">Cartão</button>
      <button onclick="confirmarPagamento('Fiado')">Fiado</button>
    </div>

    <div id="fiadoForm" style="display:none; margin-top:20px;">
      <input type="text" id="clienteFiado" placeholder="Nome do cliente">
      <button onclick="salvarFiado()">Salvar Fiado</button>
    </div>

    <button class="fechar" onclick="fecharModal()">Cancelar</button>
  </div>
</div>

<script src="script.js"></script>
<script>
particlesJS('particles-js', {
  "particles": {
    "number": {"value": 80},
    "color": {"value": "#00ffff"},
    "shape": {"type": "circle"},
    "opacity": {"value": 0.5},
    "size": {"value": 3},
    "line_linked": {"enable": true,"distance": 150,"color": "#00ffff","opacity": 0.4,"width": 1},
    "move": {"enable": true,"speed": 3}
  },
  "interactivity": {"events": {"onhover": {"enable": true,"mode": "repulse"}}}
});
</script>
</body>
</html>
